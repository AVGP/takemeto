<ion-view title="Find connections">
  <ion-content>
    <div class="item item-input-inset">
      <label class="item-input-wrapper">
        <i class="icon ion-ios7-search placeholder-icon"></i>
        <input type="search" placeholder="From" ng-change="search('departureStations', route.from)" ng-model="route.from">
      </label>
      <button class="button button-clear">Cancel</button>
    </div>

    <ul class="list" ng-show="departureStations.length > 0">
      <li class="item" ng-repeat="choice in departureStations" ng-click="choose('from', 'departureStations', choice.name)">{{choice.name}}</li>
    </ul>

    <div class="item item-input-inset">
      <label class="item-input-wrapper">
        <i class="icon ion-ios7-search placeholder-icon"></i>
        <input type="search" placeholder="To" ng-change="search('arrivalStations', route.to)" ng-model="route.to">
      </label>
      <button class="button button-clear">Cancel</button>
    </div>

    <ul class="list" ng-show="arrivalStations.length > 0">
      <li class="item" ng-repeat="choice in arrivalStations" ng-click="choose('to', 'arrivalStations', choice.name)">{{choice.name}}</li>
    </ul>

    <button class="button button-assertive button-block" ng-click="getConnections()">Find connections</button>

    <ul class="list">
      <li class="item item-icon-left" ng-repeat="conn in connections" ng-click="show($index)">
        <i class="icon ion-star" ng-class="conn.isFavourite ? 'favourite' : 'inactive'" ng-click="toggleFavourite($index); $event.stopPropagation()"></i>
        {{conn.from}} &mdash; {{conn.to}}
        <i class="item-note">{{conn.departure}} &mdash; {{conn.arrival}} ({{conn.duration}})</i>
      </li>
    </ul>
  </ion-content>
</ion-view>
