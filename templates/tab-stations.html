<ion-view title="Stations">
  <ion-header-bar class="bar-subheader item-input-inset">
    <label class="item-input-wrapper">
      <i class="icon ion-ios7-search placeholder-icon"></i>
      <input type="search" placeholder="Search" ng-change="search()" ng-model="stations.searchTerm">
    </label>
    <button class="button button-clear" ng-click="stations.searchTerm='';stations.results=[]">Cancel</button>
  </ion-header-bar>

  <ion-content class="padding" scroll="true">
    <div class="list" ng-show="stations.results.length > 0">
      <a class="item item-icon-left" ng-repeat="station in stations.results" href="#/tab/stations/{{station.id}}">
        <i class="icon ion-star" ng-class="station.isFavourite ? 'favourite' : 'inactive'" ng-click="station.results = toggleFavourite(stations.results, $index)"></i>
        {{station.name}}
      </a>
    </div>

    <h2>Nearby</h2>
    <div class="list">
      <a class="item" ng-repeat="station in nearby" href="#/tab/stations/{{station.id}}">
        <i class="icon ion-star" ng-class="station.isFavourite ? 'favourite' : 'inactive'" ng-click="nearby = toggleFavourite(nearby, $index)"></i>
        {{station.name}} <span class="badge badge-stable">{{station.distance}}m</span>
      </a>
    </div>

    <h2>Favourites</h2>
    <div class="list">
      <a class="item item-icon-right" ng-repeat="fav in favourites" href="#/tab/stations/{{fav.id}}">
        {{fav.name}}
        <i ng-click="removeFavourite(fav)" class="icon ion-close-circled"></i>
      </a>
    </div>
  </ion-content>
</ion-view>
